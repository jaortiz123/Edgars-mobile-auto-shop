# CI environment variables for docker-compose and backend
# Single source of truth for database configuration

# Postgres (docker-compose picks these up)
POSTGRES_USER=test_user
POSTGRES_PASSWORD=test_password
POSTGRES_DB=test_autoshop

# Database URLs
# Host-accessible (for CI jobs running on host with postgres service)
DATABASE_URL=postgresql://test_user:test_password@127.0.0.1:55432/test_autoshop
# Compose-accessible (for E2E jobs using docker-compose network)
DATABASE_URL_COMPOSE=postgresql://test_user:test_password@db:5432/test_autoshop

# Backend Configuration
JWT_SECRET=test-secret
FLASK_SECRET_KEY=test-flask-secret-for-ci
LOG_LEVEL=INFO
DEFAULT_TEST_TENANT=00000000-0000-0000-0000-000000000001
APP_INSTANCE_ID=ci
SKIP_TENANT_ENFORCEMENT=true
FALLBACK_TO_MEMORY=false
APP_ENV=test
NODE_ENV=test
PORT=3001

# Postgres connection details (for non-URL based configs)
POSTGRES_HOST=127.0.0.1
POSTGRES_PORT=55432

# Redis connection details
REDIS_HOST=redis
REDIS_PORT=6379

# Admin configuration
ADMIN_USER=ci_admin
ADMIN_PASSWORD_HASH=ci-test-hash-not-for-production

# Surface 500 error details to HTTP responses in CI (safe for CI only)
CI_DEBUG_ERRORS=true
EXPOSE_INTERNAL_ERRORS=true

# Frontend Configuration
VITE_PUBLIC_API_URL=http://localhost:3001
VITE_API_BASE_URL=http://localhost:3001
VITE_API_ENDPOINT_URL=http://localhost:3001/api

# E2E Configuration
# Preferred tenant used by Playwright auth/data APIs
E2E_TENANT_ID=00000000-0000-0000-0000-000000000001
REDIS_URL=redis://redis:6379
